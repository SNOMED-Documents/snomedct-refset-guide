# 5.2. Query Specification Reference Set

The query specification type reference set is used to hold a series of queries used to represent the membership of a subset of SNOMED CT components.

A query contained in the reference set is run against the content of SNOMED CT (the [substrate](https://confluence.ihtsdotools.org/display/DOCGLOSS/substrate "Glossary link: substrate")) to produce a subset of concepts, descriptions or relationships (the [expansion](attachments/35985785/35985790)). The query is referred to as an  [intensional](2.1.1.-Subset-Definitions_35985785.html) definition of the subset. It can be run against new releases of SNOMED CT to generate an updated set of subset members. Additionally, the members of the [expansion](https://confluence.ihtsdotools.org/display/DOCGLOSS/expansion "Glossary link: expansion") may also be represented in an enumerated form as a [simple reference set](5.1-Simple-Reference-Set_35985677.html). An enumerated representation of a subset is referred to as an [extensional](2.1.1.-Subset-Definitions_35985785.html) definition of a subset. The diagram below illustrates the relation between the query specification reference set and the simple reference set. The intensional definition is represented in the 'query' attribute, and the identifier for the expansion's simple reference set is represented by the concept referenced in the 'referencedComponentId' attribute.

The two tables below illustrate the relationship between the query specification type reference set and the [simple reference set](5.1-Simple-Reference-Set_35985677.html). The referencedComponentId in the query specification type reference set references a concept which represent the [simple type reference set](5.1-Simple-Reference-Set_35985677.html), which is used to hold the expansion of the intensional definition.

<figure><img src="plugins/servlet/confluence/placeholder/unknown-macro" alt="" title=""></figure>

<figure><img src="plugins/servlet/confluence/placeholder/unknown-macro" alt="" title=""><figcaption><p>id| effectiveTime| active| moduleId| moduleId<em>term| refsetId| refsetId</em>term| referencedComponentId| referencedComponentId<em>term| query| query</em>term</p></figcaption></figure>|---|---|---|---|---|---|---|---|---|---  
<UUID>| 20160131| 1| 19999999103| Example Extension Module| 900000000000513000| Simple query specification reference set | 739999999103| Route of administration simple reference set| < 284009009| Descendants of | Route of administration value |  
  
  

<figure><img src="plugins/servlet/confluence/placeholder/unknown-macro" alt="" title=""></figure>

<figure><img src="plugins/servlet/confluence/placeholder/unknown-macro" alt="" title=""><figcaption><p>id| effectiveTime| active| moduleId| moduleId<em>term| refsetId| refsetId</em>term| referencedComponentId| referencedComponentId_term</p></figcaption></figure>|---|---|---|---|---|---|---|---  
<UUID>| 20160131| 1| 19999999103| Example Extension Module| 739999999103| Route of administration simple reference set| 420254004| Body cavity route (qualifier value)  
<UUID>| 20160131| 1| 19999999103| Example Extension Module| 739999999103| Route of administration simple reference set| 419762003| Peritendinous route (qualifier value)  
<UUID>| 20160131| 1| 19999999103| Example Extension Module| 739999999103| Route of administration simple reference set| 37161004| Rectal route (qualifier value)  
<UUID>| 20160131| 1| 19999999103| Example Extension Module| 739999999103| Route of administration simple reference set| 419954003| Ileostomy route (qualifier value)  
<UUID>| 20160131| 1| 19999999103| Example Extension Module| 739999999103| Route of administration simple reference set| 445754005| Intragingival route (qualifier value)  
<UUID>| 20160131| 1| 19999999103| Example Extension Module| 739999999103| Route of administration simple reference set| 448077001| Intraepidermal route (qualifier value)  
<UUID>| 20160131| 1| 19999999103| Example Extension Module| 739999999103| Route of administration simple reference set| 420163009| Esophagostomy route (qualifier value)  
<UUID>| 20160131| 1| 19999999103| Example Extension Module| 739999999103| Route of administration simple reference set| 446442000| Transplacental route (qualifier value)  
<UUID>| 20160131| 1| 19999999103| Example Extension Module| 739999999103| Route of administration simple reference set| 448491004| Intrajejunal route (qualifier value)  
<UUID>| 20160131| 1| 19999999103| Example Extension Module| 739999999103| Route of administration simple reference set| 127490009| Gastrostomy route (qualifier value)  
<UUID>| 20160131| 1| 19999999103| Example Extension Module| 739999999103| Route of administration simple reference set| 419243002| Transcervical route (qualifier value)  
<UUID>| 20160131| 1| 19999999103| Example Extension Module| 739999999103| Route of administration simple reference set| ...| ...  
<UUID>| 20160131| 1| 19999999103| Example Extension Module| 739999999103| Route of administration simple reference set| ...| ...  
  
The [Expression Constraint Language](https://confluence.ihtsdotools.org/display/DOCECL/Expression+Constraint+Language+-+Specification+and+Guide) is the recommended language for specifying queries over SNOMED CT content. This language allows for a consistent and machine-readable representation of sets of clinical meanings. This means that a set of expression constraints can be used to specify the intensional definition of a range of subsets used in a particular context. The use cases for the subset generated from the queries within a query specification reference set are similar to the use cases for [simple reference sets](5.1-Simple-Reference-Set_35985677.html). However, the query specification reference set type can be used anywhere a set of queries needs to be managed. 

## Reference Set Specific Attributes

Field| Data type| Purpose  
---|---|---  
[referencedComponentId](https://confluence.ihtsdotools.org/display/DOCRELFMT/referencedComponentId+\(field\) "Reference term: referencedComponentId \(field\)")| [SCTID](https://confluence.ihtsdotools.org/display/DOCRELFMT/6.1+SCTID+Data+Type)| The identifier ( [refsetId](https://confluence.ihtsdotools.org/display/DOCRELFMT/refsetId+\(field\) "Reference term: refsetId \(field\)")) of the [reference set](https://confluence.ihtsdotools.org/display/DOCGLOSS/reference+set) for which members are to be generated.  
[query](https://confluence.ihtsdotools.org/display/DOCRELFMT/query+\(field\) "Reference term: query \(field\)")| [String](https://confluence.ihtsdotools.org/display/DOCRELFMT/String+\(data+type\) "Reference term: String \(data type\)")| The serialised [query](https://confluence.ihtsdotools.org/display/DOCRELFMT/query+\(field\) "Reference term: query \(field\)") that can be used to (re-)generate the [reference set](https://confluence.ihtsdotools.org/display/DOCGLOSS/reference+set) members.The SNOMED CT Query Language is a formal language for representing computable queries over SNOMED CT content.   
  
  

