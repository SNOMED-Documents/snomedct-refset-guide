# 6.3.3.2-modify-members-of-a-reference-set

## 6.3.3.2 Modify Members of a Reference Set

## Principles

Principles for modifying reference sets include:

* Reference sets can be modified by
  * Adding or inactivating reference set members. Please refer to the guidance on [6.3.3.1 Add Members to a Reference Set](https://github.com/IHTSDO/snomedct-refset-guide/blob/main/6%20reference-set-development/6.3%20development/6.3.3%20authoring-reference-set-members/6.3.3.1-Add-Members-to-a-Reference-Set_59343436.html) or [6.3.3.3 Remove Members from a Reference Set](https://github.com/IHTSDO/snomedct-refset-guide/blob/main/6%20reference-set-development/6.3%20development/6.3.3%20authoring-reference-set-members/6.3.3.3-Remove-Members-from-a-Reference-Set_59343458.html).
  * Modifying mutable attribute values of reference set members. To see what attributes are mutable for each reference set type, please refer to the specification of the specific reference set type in the [reference set release files specification](https://confluence.ihtsdotools.org/display/WIPRELFMT/4.+Reference+Set+Release+Files+Specification?src=breadcrumbs-parent). If the reference set type is a locally defined reference set, please consider any mutability constraints on the individual attributes.
* Don't modify immutable attributes of a reference set.
  * In the case where the modification of an immutable attribute is required, this should be done by inactivating the reference set member and creating a new reference set member with the required, updated values.
* If circumstances require you to modify reference set members that belong to another module than the producers extension, following options exist:
  * Inactivating the specific reference set member in your own module and create a new reference set member with the updated value
    * The benefit of this approach is that you retain the definition and representation of the reference set member as it was intended by its original authors, and the new reference set member will be easily identified as a local reference set member, as the identifier of that reference set member is not available in the original reference set
  * Create a new version of the specific reference set member in your own module, and make the necessary modifications

## Proces

The table below provides a summary of the process to follow when modifying an existing member in a [Reference Set](https://confluence.ihtsdotools.org/display/DOCGLOSS/Reference+Set).

Table 6.3.3.2-1: Modify reference set member

| File Type                                                            | Process                                                                                                     |
| -------------------------------------------------------------------- | ----------------------------------------------------------------------------------------------------------- |
| Concept                                                              | The metadata concept representing the reference set is retained                                             |
| Reference Set                                                        | A new reference set row is created and the _id_ is retained from the previous version of the refset member. |
| Versioning and module identification attributes are set accordingly: |                                                                                                             |

* _effectiveTime_ is set to the date the extension will be published
* _active_ is set to reflect the status of the reference set member, i.e. '1' for active and '0 'for inactive
* _moduleId_ is set to identify a module managed by the extension producer

Attributes common for all reference set types are set accordingly:

* _refsetId_ is retained as the value from the previous version of this refset member. A member cannot move from one [reference set](https://confluence.ihtsdotools.org/display/DOCGLOSS/reference+set) to another
* referencedComponentId id retained as the value from the previous version of this refset member. A member cannot change the [component](https://confluence.ihtsdotools.org/display/DOCGLOSS/component) which it refers to.
  * In this case, the existing member record should be inactivated, and a new one created.

Attributes specific to the reference set type are set accordingly:

* _additional attributes_ - may be updated with a value, of type (and possibly range) limited by the descriptor record for this[Reference Set](https://confluence.ihtsdotools.org/display/DOCGLOSS/Reference+Set) attribute
