# 6.6.2. Managing Reference Set Changes

Maintaining reference sets starts as soon as the reference set is specified. The maintenance process involves ensuring that the content of the reference set refers to active concepts in the release upon which the reference set depends. It also involves adding new content to the reference set, for example when additions to the dependee Release fall within the scope of the reference set specification. The alignment of a reference set with the International Release will be undertaken during the international release process, at which time a change report will be created for circulation, providing details of the changes made, in a format that can be circulated virtually to subject matter experts. 

The tasks related to reference set changes will typically involve substituting a prior version of a reference set with the more recent version. For example, if a reference set represents a value set which is used in a data entry interface, the reference set may simply be replaced by the updated version of that reference set. On the other hand, if the reference set is of a more complex nature, for example, if it represents a map between SNOMED CT and a classification, and is used for quality monitoring, research, reimbursement etc., it might be necessary to go into more detail about the implications of the change. Regardless of the type of reference set change (addition, inactivation or change) it will always have implications. 

# Addition of Reference Sets

If a reference set is added data entry protocols should be updated to link to this reference set where this is found appropriate. For example, if a reference set has been developed to function as a value set for cardiovascular diseases, data entry protocols should link to the reference set in the data entry protocols used to capture cardiovascular diseases. The nature of the binding depends on the underlying information model of the protocol. Additionally, it is important to update the storage models appropriately. See, [Starter Guide Chapter 3. Using SNOMED CT in Clinical Information](https://confluence.ihtsdotools.org/display/DOCSTART/3.+Using+SNOMED+CT+in+Clinical+Information) to learn about this topic. It may also be necessary to develop queries to generate reports or views based on the new reference set data. Alternatively, an added reference set may include rules to enable decision support, which must be integrated. It may also be necessary to create or update links between reference set members and communication protocols.

# Inactivation of Reference Set

A reference set may be inactivated in situations where an organization is no longer able or prepared to maintain it. 

Inactivation of an  _entire_ reference set is done by inactivating the concept that identifies the reference set, and inactivating the relationship used to place the reference set in the subtype hierarchy.

Reference sets that are being actively used should not be inactivated without giving prior notice to the users of the reference set, to allow remedial steps to be taken. 

Any function using a reference set that is no longer maintained will need updating. For example, if a reference set is inactivated, which is used for data entry, it is important to determine how the inactivation is managed in the system. Thus, it should be clarified whether a new reference set should be defined or whether the inactivated reference set should be added in a local extension. It may also be that a replacement reference set has already been defined. 

# Changes to Reference Set Members

The types of changes that can occur in a reference set include: 

  * Changes to reference set members
  * Addition of reference set members
  * Inactivation of reference set members

Additional information: [TSG Guide Section 13.2 How to add, change or remove members of an existing reference set](/pages/createpage.action?spaceKey=DOCTSG&title=13.2+How+to+add%2C+change+or+remove+members+of+an+existing+Reference+Set)

The effect of changes to reference set members depends on the type of reference set and the way the reference set is used. Generally, it is important to assess the extent to which the reference set changes affect the situation in which the reference set is used, such as: 

  * Data entry. Changes to reference set members may require changing existing data entry protocols. 
  * Data storage. Changes to reference set members may require migrating or processing pre-existing data in a particular way to ensure consistency. 
  * Data retrieval. Changes to reference set members may require revising existing queries to take account of the changes. 
  * Knowledge linkage. Changes to reference set members may require updating bindings to knowledge resources or decision support rules. 
  * Communications. Changes to reference set members may require updating communication specifications, and in particular managing issues from cross-version communications. 

## Determine changes

One way of determining the changes to a reference set is by creating and comparing the following two views of the reference set: 

  * **SNAPSHOT view** of the previous reference set release. This view contains one version of every member released up to the time of the snapshot. The version of each member contained in a snapshot is the most recent version of that member at the time of the snapshot.
  * **DELTA view** of the new reference set release. This view contains only reference set member versions created since the previous reference set release. Each reference set member version in the DELTA view represents either a new reference set member or a change to an existing member. 

These two views make it possible to automatically identify whether a reference set member has been created, changed, reactivated or inactivated. The table below illustrates how to interpret the 'active' attribute, when comparing the delta view of the new release of the reference set with the snapshot view of the previous release of the reference set. 

  
  
  
| **Value of active column in the new release of the reference set** _(DELTA view)_  
---|---  
**0** | **1** | **NOT PRESENT**  
Value of active column in previous release of the reference set _(SNAPSHOT view)_ | **0** | Inactive member changed (not significant) | Member REACTIVATED | NO CHANGE  
**1** | Member INACTIVATED | CHANGED member | NO CHANGE  
**NOT PRESENT** | n/a | NEW member | n/a
